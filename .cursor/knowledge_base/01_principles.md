# Principles

## <a id="p_conceptual_cross_validation"></a>原则：概念交叉验证 (Conceptual Cross-Validation)

###核心概念

在进行昂贵的实现或测试之前，优先利用 AI Agent 的 [信息处理和推理能力](./02_ai_capabilities.md#cap_global_modeling)，在**概念层面**对不同来源的信息（如代码库、接口定义、设计文档、研究论文、API 文档、历史讨论）进行**交叉引用、对齐和验证**。

目标是通过逻辑推演和结构化分析，识别潜在的冲突、不一致性、接口误解或逻辑缺陷，用**结构化的信心**替代部分运行时验证。这是一种核心的 [风险控制手段](#p_risk_control_over_speed)。

###重要性

*   **低成本风险识别**: 在早期、低成本阶段发现问题，避免后期昂贵的重构或失败。
*   **提升方案质量**: 确保设计方案在逻辑上自洽，且与依赖的系统/库行为一致。
*   **加速开发进程**: 减少因后期发现基础性错误而导致返工的时间。
*   **强化全局理解**: 交叉验证过程本身有助于加深对系统各部分及其相互关系的理解。见 [原则：聚焦全局概念模型](#p_global_modeling_focus)。

###如何实践

1.  **提供多元上下文**: 向 AI Agent 提供所有相关的代码、文档、论文等信息源。
2.  **明确验证目标**: 提出具体的验证问题，例如：
    *   "根据 vLLM 的 X 接口文档和 DeepGEMM 的 Y 输入要求，我们在 `fp8_deep` 中这样准备 scale 是否正确？"
    *   "DSv3 论文中描述的 Z 量化策略，与我们当前代码实现是否存在偏差？"
    *   "模块 A 的输出格式是否完全满足模块 B 的输入契约？"
3.  **引导 AI 推理**: 让 AI 梳理逻辑链条："如果 A，那么 B；根据文档 C，接口 D 应该是 E；这与我们的目标 F 是否一致？"
4.  **结构化输出**: 要求 AI 以清晰、结构化的方式呈现验证过程、发现的冲突或确认的一致性。
5.  **结合"问笨问题"**: 将概念交叉验证与系统性地 [问笨问题](#ask_dumb_questions) (待创建) 相结合，挑战核心假设和边界条件。

###关联概念

*   [原则：风险控制优先于速度](#p_risk_control_over_speed)
*   [原则：聚焦全局概念模型](#p_global_modeling_focus)
*   [AI 能力：全局建模与理解](./02_ai_capabilities.md#cap_global_modeling)
*   [AI 能力：低成本思考](./02_ai_capabilities.md#cap_low_cost_thinking)
*   [原则：问笨问题](#ask_dumb_questions) (待创建)

## <a id="p_constrained_optimality"></a>原则：追求约束下的理论最优 (Constrained Theoretical Optimality)

###核心概念

在复杂的研发项目中，尤其是在与 AI Agent 协作时，单纯追求技术上的"理论最优"（不考虑现实限制的理想化方案）往往是低效甚至有害的。真正的目标应该是找到在**所有给定约束条件下所能达到的最佳解决方案**，即**约束下的理论最优解 (constrained theoretical optimum)**。

这要求我们将"务实"的选择理解为：并非放弃追求"最优"，而是认识到"最优"是相对于具体的"约束条件"而言的。

###重要性

*   **指导方案选择**: 帮助我们在多个技术可能性中，选择最符合项目实际需求的方案，而不是仅仅技术上最先进或最通用的方案。
*   **风险管理**: 明确约束有助于识别哪些"理论上更好"的方案实际上风险过高（如开发时间过长、依赖不稳定、资源消耗过大）。见 [原则：风险控制优先于速度](#p_risk_control_over_speed) (待创建)。
*   **资源聚焦**: 将有限的资源（时间、人力、计算资源）投入到解决**在约束条件下最关键的问题**上。
*   **人机协作对齐**: 帮助人类专家向 AI Agent 清晰地传递项目的真实边界和优先级，使 AI 能够生成更符合实际需求的建议和方案。见 [协作模式：人类的核心角色](./04_collaboration_model.md#cm_human_roles#价值注入与约束设定) (待创建)。

###如何实践

1.  **主动识别与明确约束**: 在项目早期和进行中，人类专家需要主动识别并向 AI Agent 明确传达所有关键约束，包括但不限于：
    *   时间限制 (Deadlines)
    *   成本预算 (Budget, e.g., GPU hours)
    *   计算资源限制 (Available hardware)
    *   技术栈依赖 (Must use library X, compatible with system Y)
    *   团队技能与熟悉度
    *   合规性与安全性要求
    *   可维护性与长期目标
2.  **将约束作为评估标准**: 在评估不同方案（无论是人类提出还是 AI 生成）时，将满足约束条件作为核心的评估维度之一。
3.  **AI 辅助分析**: 利用 AI 的信息处理和推理能力，分析不同方案在各种约束下的表现和潜在风险。

###关联概念

*   [原则：风险控制优先于速度](#p_risk_control_over_speed) (待创建)
*   [AI 局限：价值判断缺乏](./03_ai_limitations.md#lim_value_judgment) (待创建)
*   [协作模式：人类的核心角色](./04_collaboration_model.md#cm_human_roles) (待创建)

## <a id="p_global_modeling_focus"></a>原则：聚焦全局概念模型 (Focus on Global Conceptual Model)

###核心概念

在处理复杂系统集成时，核心挑战与价值在于构建和验证**描述现有复杂系统（如 vLLM, DeepGEMM, Steptron 等）如何在特定约束下协同工作的全局概念模型**。

这要求我们避免陷入已解决的局部细节或进行冗余的局部抽象（例如，为 vLLM 内部已有的功能创建不必要的包装器），而应聚焦于理解和建模系统间的**接口、契约、相互作用**以及这些互动在特定目标（如 FP8 MoE 前向）下的预期结果。

###重要性

*   **指导抽象层级**: 确保我们在正确的层级上进行抽象，即系统交互层面，而非组件内部。
*   **识别关键交互点**: 帮助定位不同系统或模块之间最关键、最需要验证的交互接口。
*   **避免冗余工作**: 防止对已有、清楚、平凡的局部细节进行不必要的重新抽象或过度包装。
*   **提升 AI 协作效率**: 为 AI Agent 提供清晰的焦点，使其能够集中推理能力分析系统级的关联和依赖，而非在局部细节中发散。引导 AI 构建其 [全局建模与理解能力](./02_ai_capabilities.md#cap_global_modeling)。

###如何实践

1.  **系统性梳理**: 在开始具体实现前，先梳理涉及的关键系统/模块及其核心功能。
2.  **接口优先**: 重点关注模块间的输入/输出、API 调用、数据格式等接口定义。
3.  **交互建模**: 绘制或描述关键任务流程中，不同模块是如何依次调用、传递数据和相互影响的。
4.  **向 AI 清晰传达**: 将这个全局模型和关注点明确告知 AI Agent，引导其进行系统层面的分析。

###关联概念

*   [原则：概念交叉验证](#p_conceptual_cross_validation)
*   [AI 能力：全局建模与理解](./02_ai_capabilities.md#cap_global_modeling)
*   [AI 局限：交互工具](./03_ai_limitations.md#lim_interaction_tools) (交互工具的不足使得直接验证内部细节困难，强化了关注接口的必要性)
*   [决策：强耦合 vLLM](../05_project_context/proj_fp8_deep/decision_vllm_coupling.md) (决策本身定义了建模的边界和重点)

## <a id="p_risk_control_over_speed"></a>原则：风险控制优先于速度 (Risk Control Over Speed)

###核心概念

在高度复杂、高不确定性的研发项目中（尤其是涉及前沿技术和大规模系统集成时），首要目标应是**控制开发过程的风险**，确保项目方向正确、可持续推进，而非单纯追求最快的开发速度或理论上的性能极限。

快速验证概念 (Rapid Prototyping / Proof-of-Concept) 的核心价值在于**风险控制**，而非"为了快速而快速"。见 [原则：概念交叉验证](#p_conceptual_cross_validation) 的实践。

###重要性

*   **早期暴露关键障碍**: 通过小范围、低成本的概念验证，尽早发现核心算法、关键集成点或基础假设中可能存在的根本性问题。
*   **降低沉没成本**: 避免在错误的方向或不可行的路径上投入大量资源（时间、人力、GPU）。
*   **迭代式建立信心**: 每成功验证一个核心概念，都为后续更复杂的步骤增加"结构化的信心"，降低整体项目失败的风险。
*   **应对高复杂度**: 对于远超个体认知能力的复杂系统，分阶段、风险驱动的验证是保持项目可控性的关键。

###如何实践

1.  **识别核心风险**: 在项目初期和关键节点，利用人类经验和 [AI 初步直觉](./02_ai_capabilities.md#cap_preliminary_intuition) 识别最大的技术风险、集成风险或不确定性。
2.  **设计最小化验证**: 针对核心风险点，设计最小可行实验或代码推演来进行验证。
3.  **概念验证优先**: 在投入大规模开发前，优先完成对核心假设和关键路径的概念验证。
4.  **利用 AI 进行推演**: 借助 AI 的分析能力，在编码前进行更深入的逻辑推演和风险评估。见 [原则：概念交叉验证](#p_conceptual_cross_validation)。
5.  **区分风险类型**: 认识到实验环境提供了较高的**运行风险容忍度**，但这更要求开发策略要有效管理**开发/项目风险**（避免方向错误、资源浪费）。利用 AI 的 [持久性](./02_ai_capabilities.md#cap_long_term_persistence) 记录失败案例，辅助学习。

###关联概念

*   [原则：追求约束下的理论最优](#p_constrained_optimality) (风险本身就是一种约束)
*   [原则：概念交叉验证](#p_conceptual_cross_validation)
*   [AI 能力：并行探索](./02_ai_capabilities.md#cap_forking_exploration) (分叉能力可用于低风险地探索高风险路径)
*   [AI 能力：构建初步直觉](./02_ai_capabilities.md#cap_preliminary_intuition)
*   [原则：使用废纸篓](#use_the_wastebasket) (待创建) (知道何时放弃风险过高的路径)

